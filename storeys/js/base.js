!function(s){"use strict";if(!(s.wbui||0)){var t,e,n,o,i,p=document,f="getElementsByClassName",h=function(t){return p.querySelectorAll(t)},r="OK",l="Cancel",m=["dialog","toast","loading","iframe"],a={type:0,mask:!0,maskClose:!0,closebtn:!0,whenBtnClickClose:!0,fixed:!0,anim:"def"},c={extend:function(t,e){var n="object"==typeof e?JSON.parse(JSON.stringify(e)):JSON.parse(JSON.stringify(a));for(var o in t)n[o]=t[o];return n},timer:{},end:{},touch:function(t,e){t.addEventListener("click",function(t){e.call(this,t)},!1)}},b=0,v=["wbui"],d=function(t){this.config=c.extend(t),this.view()};d.prototype.view=function(){var t=this,n=t.config,e=p.createElement("div"),o="object"==typeof n.content,i="string"==typeof n.type?n.type:v[0]+"-"+m[n.type||0];t.id=e.id=v[0]+b,e.setAttribute("class",v[0]+" "+i),e.setAttribute("index",b);var a,s,r=(a="object"==typeof n.title,n.title?'<h3 class="wbui-title'+(a?" "+n.title[1]:"")+'">'+(a?n.title[0]:n.title)+"</h3>":""),l=(s="object"==typeof n.closebtn,n.closebtn?'<a class="wbui-close'+(s?" "+n.closetype[1]:"")+'"><i></i></a>':""),c=function(){"string"==typeof n.btn&&(n.btn=[n.btn]);var t,e=(n.btn||[]).length;return 0!==e&&n.btn?(t='<span yes type="1">'+n.btn[0]+"</span>",2===e&&(t='<span no type="0">'+n.btn[1]+"</span>"+t),'<div class="wbui-btn">'+t+"</div>"):""}();if(n.fixed||(n.top=n.hasOwnProperty("top")?n.top:100,n.style=n.style||"",n.style+=" top:"+(p.body.scrollTop+n.top)+"px"),2===n.type&&(n.content='<i></i><i class="wbui-load"></i><i></i><p>'+(n.content||"")+"</p>"),3===n.type){n.content=o?n.content:[n.content||"","auto"];n.content='<iframe scrolling="'+(n.content[1]||"auto")+'" allowtransparency="true" id="'+m[3]+b+'" name="'+m[3]+b+'" onload="this.className=\'\';" class="wbui-load" frameborder="0" src="'+n.content[0]+'"></iframe>'}if(n.skin&&(n.anim="fade"),"msg"===n.skin&&(n.mask=n.closebtn=!1,n.time=2),e.innerHTML=(n.mask?"<div "+("string"==typeof n.mask?'style="'+n.mask+'"':"")+' class="wbui-mask"></div>':"")+'<div class="wbui-main" '+(n.fixed?"":'style="position:static;"')+'><div class="wbui-section"><div class="wbui-child '+(n.skin?"wbui-"+n.skin+" ":"")+(n.className?n.className:"")+" "+(n.anim?"wbui-anim-"+n.anim:"")+'" '+(n.style?'style="'+n.style+'"':"")+">"+r+'<div class="wbui-cont">'+n.content+"</div>"+c+(n.closebtn?l:"")+"</div></div></div>",!n.type||2===n.type){var d=p[f](v[0]+m[n.type]);1<=d.length&&wbui.close(d[0].getAttribute("index"))}document.body.appendChild(e);var u=t.elem=h("#"+t.id)[0];n.success&&n.success(u),t.index=b++,t.action(n,u)},d.prototype.action=function(t,e){var n=this;t.time&&(c.timer[n.index]=setTimeout(function(){wbui.close(n.index)},1e3*t.time));function o(){0==this.getAttribute("type")?(t.no&&t.no(),wbui.close(n.index)):(t.yes&&t.yes(n.index),t.whenBtnClickClose&&wbui.close(n.index))}if(t.btn)for(var i=e[f]("wbui-btn")[0].children,a=i.length,s=0;s<a;s++)c.touch(i[s],o);if(t.mask&&t.maskClose){var r=e[f]("wbui-mask")[0];c.touch(r,function(){wbui.close(n.index,t.end)})}if(t.closebtn){var l=e[f]("wbui-close")[0];c.touch(l,function(){wbui.close(n.index,t.end)})}t.end&&(c.end[n.index]=t.end)},s.wbui={v:"1.0.5",index:b,open:function(t){return new d(t||{}).index},alert:function(t,e){var n="function"==typeof e,o=c.extend({content:t,btn:r});return o=n?c.extend({yes:e},o):c.extend(e,o),s.wbui.open(o)},confirm:function(t,e,n,o){var i="function"==typeof e,a=c.extend({content:t,btn:[r,l]});return a=i?c.extend({yes:e,no:n},a):c.extend(e,a),s.wbui.open(a)},toast:function(t,e){var n="function"==typeof e,o=c.extend({type:1,content:t,mask:0,closebtn:0,time:2});return o=n?c.extend({end:e},o):c.extend(e,o),s.wbui.open(o)},loading:function(t){var e="function"==typeof t,n=c.extend({type:2,content:0,mask:0,maskClose:0,closebtn:0});return n=e?c.extend({end:t},n):c.extend(t,n),s.wbui.open(n)},iframe:function(t,e,n,o){var i="function"==typeof e,a=c.extend({type:3,content:t,mask:0});return a=i?c.extend({yes:e,no:n},a):c.extend(e,a),s.wbui.open(a)},close:function(t){var e=h("#"+v[0]+t)[0];e&&(e.innerHTML="",p.body.removeChild(e),clearTimeout(c.timer[t]),delete c.timer[t],"function"==typeof c.end[t]&&c.end[t](),delete c.end[t])},closeAll:function(){for(var t=p[f](v[0]),e=0,n=t.length;e<n;e++)wbui.close(0|t[0].getAttribute("index"))}},"function"==typeof define?define(function(){return wbui}):(e=document.scripts,n=e[e.length-1],o=n.src,i=o.substring(0,o.lastIndexOf("/")+1),n.getAttribute("assets")&&document.head.appendChild(((t=p.createElement("link")).href=i+"assets/wbui.css",t.type="text/css",t.rel="styleSheet",t.id="wbui_css",t)))}}(window),function(t,e){"use strict";var n=wb_base.theme_url+"/images/wb_svg.html",o=wb_base.assets_ver,i=wb_base.theme_name?"wbInlineSVGdata_"+wb_base.theme_name:"wbInlineSVGdata",a=wb_base.theme_name?"wbInlineSVGrev_"+wb_base.theme_name:"wbInlineSVGrev";if(!e.createElementNS||!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)return;function s(){e.body.insertAdjacentHTML("afterbegin",c)}function r(){e.body?s():e.addEventListener("DOMContentLoaded",s)}var l,c,d="localStorage"in t&&null!==t.localStorage;if(d&&localStorage.getItem(a)===o&&(c=localStorage.getItem(i)))return r();try{(l=new XMLHttpRequest).open("GET",n,!0),l.onload=function(){200<=l.status&&l.status<400&&(c=l.responseText,r(),d&&(localStorage.setItem(i,c),localStorage.setItem(a,o)))},l.send()}catch(t){}}(window,document),jQuery(document).ready(function(d){window.WB={smWidth:960,getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!==n?unescape(n[2]):null},inViewport:function(t,e){var n,o,i,a,s;return o=d(window),n=t.getBoundingClientRect(),s=e||1,i=o.width(),a=o.height()*s,0<=n.bottom&&0<=n.right&&n.top<=a&&n.left<=i},Browser:{isMobile:/mobile/i.test(navigator.userAgent),isAndriod:/android/i.test(navigator.userAgent),isiOS:/iPhone|iPad|iPod/i.test(navigator.userAgent),isWeiXin:/MicroMessenger/i.test(navigator.userAgent)},swipe:function(t,r){var l,c,d;t.addEventListener("touchstart",function(t){var e=t.touches[0];c=e.clientX,d=e.clientY,l=!1},!1),t.addEventListener("touchmove",function(t){l=!0},!1),t.addEventListener("touchend",function(t){if(l){var e=t.changedTouches[0],n=e.clientX,o=e.clientY,i=c-n,a=d-o,s=0;Math.abs(i)>=Math.abs(a)&&(20<i?s="left":i<-20&&(s="right"),r&&r(s))}},!1)},lazyLoad:function(t){(t||d("[data-src]")).each(function(){var t,e=d(this),n=e.data("src"),o=e.data("srcset"),i=window._def_pic_url||null;e.is(":visible")&&(WB.inViewport(this,1.5)||e.hasClass("lin"))&&(e.is("img")?e.attr({src:n,srcset:o}):(t=new Image,d(t).load(function(){e.css({"background-image":"url("+n+")","background-size":"100% auto"})}),t.src=n),e.removeAttr("data-src"),e.removeAttr("data-srcset"),e.error(function(){e.attr("src",i),e.removeAttr("srcset")}))})},localStorage:{set:function(t,e){window.localStorage&&localStorage.setItem(t,e)},get:function(t){return localStorage.getItem(t)}},loadMore:function(t){var e=(t=t||{}).pagination||d(".pagination"),n=t.loadMoreBox||d(".load-more-box"),o=t.loadMoreBtn||n.find(".btn"),i=t.listBox||d(".articles-list"),a=t.xtpl,s=t.tpl,r=t.data||void 0,l=n.attr("data-total"),c=1;o.on("click",function(){c++,WB.render({xtpl:a,page:c,tpl:s,data:r,afterFn:function(t){if(i.append(t).append(e).append(n),WB.lazyLoad(),l<=c)return n.hide(),!1}})})},scrollFixed:function(e,t){if(!e.length)return!1;t=t||{};var n,o,i=e.offset().top,a=e.width(),s=t.spTop||0,r=t.spBottom||100,l=t.ntoEle||".footer";e.attr("data-original-y",i),d(window).on("scroll",function(){if(o=d(window).width(),!(WB.isMobile||o<768)){var t=d(this).scrollTop();if(i<t)return e.css({position:"fixed",width:a}),(n=d(l).offset().top-e.height()-r)<=t?e.css("top",n-t):e.css("top",s),!1;WB.resetScrollFixed(e)}})},resetScrollFixed:function(t){t.css({position:"",width:"",top:""})},isSmWin:function(t){var e=t||this.smWidth;return d(window).width()<e?1:0},tabs:function(t,e){e=e||{};var n=t||d("#J_tabBox"),o=e.tabNav||n.find(".tab-nav-item,.tab-nav li"),i=e.tabCont||n.find(".tab-cont"),a=e.currClass||"current",s=e.tabEvent||WB.Browser.isMobile?"click":"mouseover",r=e.callBackFn,l=0;o.on(s,function(){l=d(this).index(),o.removeClass(a).eq(l).addClass(a),i.removeClass(a).eq(l).addClass(a),r&&r()})},popover:function(t,a,e){(t||d("[data-ppo-name]")).on("click",function(){var t=d(this).attr("data-ppo-name"),e=d(this).attr("data-ppo-mask")||!1,n=d(t),o=Math.round(n.width()),i=Math.round(n.height());n.css({width:o%2?o+1:o,height:i%2?i+1:i}).show(0,function(){d(this).addClass("wb-fadein"),a&&a()}),e&&WB.showMask(function(t){t.on("click",function(){WB.popoverClose(n)})})}),d(".com-popover").on("click",".wb-ppo-close",function(){var t=d(this).parents(".com-popover");WB.popoverClose(t),e&&e()})},popoverClose:function(t){t.removeClass("wb-fadein").addClass("wb-fadeout"),setTimeout(function(){t.hide().removeClass("wb-fadeout")},300),d(".wb-mask").length&&WB.hideMask()},showMask:function(t){d(".wb-mask").length||d("body").append('<div class="wb-mask"></div>'),setTimeout(function(){d(".wb-mask").addClass("mask-active")},10),t&&t(d(".wb-mask"))},hideMask:function(t){if(!d(".wb-mask").length)return!1;d(".wb-mask").removeClass("mask-active"),setTimeout(function(){d(".wb-mask").remove()},300),t&&t()}}}),jQuery(document).ready(function(u){var p={galleryWithThumbs:function(t){var e=t||u(".gallery-panel"),i=e.find(".gallery-thumbs"),a=e.find(".gt-item"),s=e.find(".j-pdpic"),r=a.height()+10,l=e.find(".swiper-slide"),c=e.find(".wb-loading"),d=(i.length,0);a.eq(0).hasClass("portrait")&&l.addClass("portrait"),s.attr("src",a.eq(0).find("img").attr("data-large-src")),s.attr("srcset",a.eq(0).find("img").attr("srcset")),a.on("click",function(){var t=u(this).find("img").attr("data-large-src"),e=u(this).find("img").attr("srcset"),n=u(this).hasClass("portrait"),o=u(this).index();if(u(this).hasClass("current"))return!1;a.removeClass("current"),u(this).addClass("current"),s.attr("src",t),s.attr("srcset",e),c.show(),s.load(function(){c.hide(),l[n?"addClass":"removeClass"]("portrait")}),(d=p.getScrollIndex(i,r))+4<=o&&(d++,i.animate({scrollTop:r*d},300)),0<d&&o==d&&(d--,i.animate({scrollTop:r*d},300))}),i.on("scroll",function(){WB.lazyLoad(u("[data-src]")),d=p.getScrollIndex(i,r)})},getScrollIndex:function(t,e){var n=t.scrollTop();return parseInt(n/e)},loading:function(t,e,n,o){var i,a,s=-1;n.show(),u("#J_pvImgCopy").length&&u("#J_pvImgCopy").remove(),a=e.clone().attr({id:"J_pvImgCopy",class:"pv-img copy"}),e.after(a),i=new Image,u(i).load(function(){e.attr({src:t}),n.hide(),a.fadeOut(300,function(){a.remove()}),s=1,o&&o(e,s)}),i.src=t,u(i).error(function(){n.hide(),e.removeClass("loading"),a.remove(),e.attr("src",window._wp_theme_uri+"/images/wbolt_def_cover.png"),s=0,o&&o(e,s)})},galleryViewDetail:function(t){t||u("#J_pdPic");var e,n=u("#J_pvImg");u(".zoom-badge").on("click",function(){var t;e=u(window).scrollTop(),t=u(this).prev(".swiper-slide").find(".j-pdpic").attr("src"),n.attr("src",t),u("#J_pvGalleryThumbs").append(u(this).parent().next(".gallery-thumbs").eq(0).html()),p.dragscroll(u("#J_pvGalleryThumbs"),".gallery-wrapper-thumbs"),u("body").append(u("#J_photoViewer")),u("#J_photoViewer").show(),u("body").css({position:"fixed",width:"100vw",height:"100vh","margin-top":-e})}),u("body").on("click","#J_pvGalleryThumbs .gt-item",function(){var t=u(this).find("img").attr("data-large-src"),e=u("#J_photoViewer .wb-loading");if(u(this).hasClass("current"))return!1;u(this).addClass("current").siblings().removeClass("current"),p.loading(t,n,e)}),u("#J_pvGalleryThumbs").on("scroll",function(){WB.lazyLoad(u("[data-src]"))}),u("body").on("click","#J_pvCloseBtn, #J_pvMask",function(){u("#J_photoViewer").hide(),u("#J_pvGalleryThumbs").html(""),u("body").css({position:"",width:"",height:"","margin-top":""}),u("html,body").scrollTop(e)})},dragscroll:function(t,e,n,o){var i,a,s=t,r=0;s.on("mousedown",e,function(t){r=1,i=t.clientX,a=t.clientY,t.preventDefault(),t.stopPropagation()}),s.on("mousemove",e,function(t){r&&(this.scrollLeft-=-i+(i=t.clientX),this.scrollTop-=-a+(a=t.clientY),n&&n(i,t.clientX,a,t.clientY))}),s.on("mouseup mouseleave",e,function(){r=0,o&&o()})}};u(".gallery-panel").length&&(u(".gallery-panel").each(function(){p.galleryWithThumbs(u(this))}),p.galleryViewDetail())});var WB=window.WB||{};jQuery(document).ready(function(p){WB.Base={init:function(){var t=this;if(null!=window.autoLoadMaxPage&&!WB.Browser.isMobile&&WB.Base.listAutoLoad(),t.backTop(p("#J_backTop")),t.navTop(),p(".footer .pwb").length)t.footerPWB();else{var e=wb_base.theme_url.split("/").pop()||"";p(".footer").append('<div class="pwb" data-theme-code="'+e+'"></div>'),t.footerPWB()}p("#searchform").length&&t.search(p("#searchform")),p("#searchform-b").length&&t.search(p("#searchform-b")),p("#J_topSearchBtn").length&&t.searchTopBar(),p("[data-src]").length&&WB.lazyLoad(p("[data-src]")),p("#J_tabBox").length&&WB.tabs(),p("[data-ppo-name]").length&&WB.popover(),WB.Browser.isMobile?(t.mbLoadMore(),t.mobile.mobileNav()):t.updateContHeight();var n=p(window).scrollTop();p(window).on("scroll",function(t){n=p(window).scrollTop(),WB.lazyLoad(p("[data-src]")),100<n?p("#J_backTop").fadeIn():p("#J_backTop").fadeOut(),p("#J_downloadBar").length&&p("#J_downloadBar")[(200<n?"add":"remove")+"Class"]("sb-active")})},mobile:{mobileNav:function(){var e;p("#J_btnNavMb,#J_btnSearchMb").on("click",function(){e=p(window).scrollTop(),p("body").addClass("display-nav-m"),WB.showMask(function(t){t.on("click",function(){WB.hideMask(),p("body").removeClass("display-nav-m"),p("body,html").scrollTop(e)})})}),p("#J_closeNav").on("click",function(){WB.hideMask(),p("body").removeClass("display-nav-m"),p("body,html").scrollTop(e)}),p("#J_topNavMb .nav-arrow").on("click",function(){p(this).toggleClass("active-submenu")})},mainMenuActive:function(){p("body").toggleClass("display-nav-m")}},backTop:function(t){t&&t.on("click",function(){p("html,body").scrollTop(0)})},search:function(t){var e=t||p("#searchform"),n=e.find(".btn-search"),o=e.find(".form-control");o.on("focus",function(){e.addClass("active")}),o.on("blur",function(){""==e.val()&&e.removeClass("active")}),n.on("click",function(){""!=o.val()?e.submit():(o.focus(),o.attr("placeholder",wbl.searchPlaceHolder))})},searchTopBar:function(){p("#J_topSearchBtn").on("click",function(){p("#J_topSearchBar").addClass("active"),p("#J_topSearchBar .form-control").select()}),WB.Base.search(p("#J_searchformTop")),p(document).on("click",function(t){var e=p(t.target);e.closest("#J_topSearchBar").length||e.closest("#J_topSearchBtn").length||p("#J_topSearchBar").removeClass("active")})},blurAction:function(t,e){var n=t,o=p(n);if(!o.length)return!1;p(document).on("click",function(t){p(t.target).closest(n).length||e&&e()||o.removeClass("active")})},mbLoadMore:function(){var n=p("#J_postList"),o=p(".pagination"),i=o.eq(0).find(".next"),a=i.length?i.attr("href"):null;p("#J_loadMoreBtn").on("click",function(){if(!a)return!1;p(".loading-bar").show(),p.get(a,function(t){var e;e=p(t).find("#J_postList .post"),n.append(e),o.html(p(t).find(".pagination").html()),WB.lazyLoad(p("[data-src]")),i=p(t).find(".pagination .next"),a=i.length?i.attr("href"):null,p(".loading-bar").hide(),a||p("#J_loadMoreBtn").hide()})})},updateContHeight:function(){var t=p(".main"),e=t.height(),n=p(".sidebar").height();e<n&&t.css({"min-height":n})},listModeSwitch:function(t,e){var n=t||p("[data-mode]"),o=e||p("#J_postList"),i=parseInt(WB.localStorage.get("wb-list-mode"))||1,a=i&&1<i?"list-mode-b":"list-mode-a";o.addClass(a),n.removeClass("current"),n.eq(i-1).addClass("current"),n.on("click",function(){o.removeClass(a),i=parseInt(p(this).data("mode")),a=1<i?"list-mode-b":"list-mode-a",WB.localStorage.set("wb-list-mode",i),o.addClass(a),n.removeClass("current"),p(this).addClass("current")})},listAutoLoad:function(){var e,n,o,i=p("#J_postList"),a=!1,s=window.autoLoadMaxPage?window.autoLoadMaxPage:20,r=1,l=p(window).height(),c=p(".pagination"),d=c.eq(0).find(".next"),u=d.length?d.attr("href"):null;p(window).on("scroll",function(t){e=p(window).scrollTop(),o=p(".main").height(),n=e+l,d.length&&r<s&&!a&&o<n&&(a=!0,p(".loading-bar").show(),c.hide(),p.get(u,function(t){var e;r++,e=p(t).find("#J_postList .post"),i.append(e),c.html(p(t).find(".pagination").html()),d=p(t).find(".pagination .next"),u=d.length?d.attr("href"):null,a=!1,p(".loading-bar").hide(),WB.Browser.isMobile||c.show()}))})},navTop:function(t,e){var n,o,i=t||p("#J_topNav"),a=e||i.children("li:visible").length,s="";if((n=i.children("li").length)<=a)return!1;o=i.children("li");for(var r=a;r<n;r++){var l=o.eq(r);l.find(".lv-1").length&&l.find(".lv-1").remove(),l.find(".lv-0").length&&l.find(".lv-0").removeClass("lv-0").addClass("lv-1"),s+=l.prop("outerHTML"),l.remove()}i.append('<li class="more-items"><a><em></em><em></em><em></em></a><div class="sub-menu lv-0" id="J_moreItemsWp"></div></li>'),p("#J_moreItemsWp").append("<ul>"+s+"</ul>")},footerPWB:function(){var t=p(".footer .pwb"),e=t.attr("data-theme-code");t.html('Design by <a href="https://www.wbolt.com?ref='+e+'" target="_blank">闪电博</a>'),t.removeAttr("data-theme-code")}},WB.Base.init()}),document.addEventListener("touchstart",function(){},!1);